#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔍 Running pre-commit checks..."

# Run prettier, eslint, and tests through lint-staged
echo "🎨 Running formatting, linting, and tests..."
npx lint-staged || {
  echo "❌ Code style checks failed. Please fix the errors and try committing again."
  exit 1
}

# Type checking
echo "📝 Running type checking..."
npm run check || {
  echo "❌ Type checking failed"
  exit 1
}

# Success message
echo "✅ All pre-commit checks passed!"
